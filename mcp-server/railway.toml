[build]
builder = "nixpacks"
buildCommand = "npm install && npm run build"
watchPatterns = ["mcp-server/src/**", "mcp-server/package.json"]

[deploy]
startCommand = "npm run start:http"
healthcheckPath = "/health"
healthcheckTimeout = 10
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[deploy.envs]
# Railway sets PORT automatically — no need to configure it.
# Set these in the Railway dashboard under Variables:
#   FEEDBIN_EMAIL    – your Feedbin account email
#   FEEDBIN_PASSWORD – your Feedbin account password
#   API_TOKEN        – secret bearer token (generate with: openssl rand -hex 32)
